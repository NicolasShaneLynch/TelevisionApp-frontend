"use strict";(self.webpackChunkfrontend_contrader=self.webpackChunkfrontend_contrader||[]).push([[897],{897:(w,_,i)=>{i.r(_),i.d(_,{default:()=>S});var g=i(1896),e=i(6223),c=i(2296),m=i(1545),u=i(9157),f=i(2032),h=i(6385),Z=i(5986),v=i(617),b=i(8525),d=i(8034),A=i(6814),U=i(5940),x=i(7914),t=i(5879),T=i(6025),C=i(3680);function q(r,s){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"check"),t.qZA())}function I(r,s){1&r&&t._uU(0,"Accesso")}function O(r,s){1&r&&t._uU(0,"Anagrafica")}function E(r,s){1&r&&(t.TgZ(0,"button",29),t._uU(1,"AVANTI"),t.qZA())}function y(r,s){1&r&&t._UZ(0,"mat-spinner",54)}function M(r,s){1&r&&(t.TgZ(0,"span"),t._uU(1,"CONFERMA"),t.qZA())}function N(r,s){if(1&r){const a=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.register())}),t.YNc(1,y,1,0,"mat-spinner",53),t.YNc(2,M,2,0,"span",51),t.qZA()}if(2&r){const a=t.oxw();t.Q6J("disabled",a.isLastButtonDisabled),t.xp6(1),t.Q6J("ngIf",a.apiLoading),t.xp6(1),t.Q6J("ngIf",!a.apiLoading)}}function D(r,s){1&r&&t._uU(0,"Azienda")}function P(r,s){1&r&&t._UZ(0,"mat-spinner",54)}function k(r,s){1&r&&(t.TgZ(0,"span"),t._uU(1,"CONFERMA"),t.qZA())}function L(r,s){if(1&r){const a=t.EpF();t.TgZ(0,"div")(1,"mat-step",55)(2,"form",9),t.YNc(3,D,1,0,"ng-template",10),t.TgZ(4,"h5",3),t._uU(5,"INFO"),t.qZA(),t.TgZ(6,"div",18)(7,"mat-form-field",56)(8,"mat-label"),t._uU(9,"Nome"),t.qZA(),t._UZ(10,"input",57),t.qZA()(),t.TgZ(11,"div",18)(12,"mat-form-field",58)(13,"mat-label"),t._uU(14,"Descrizione"),t.qZA(),t._UZ(15,"textarea",59),t.qZA()(),t.TgZ(16,"div",18)(17,"mat-form-field",12)(18,"mat-label"),t._uU(19,"Provincia"),t.qZA(),t._UZ(20,"input",60),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-label"),t._uU(23,"Citt\xe0"),t.qZA(),t._UZ(24,"input",61),t.qZA(),t.TgZ(25,"mat-form-field",12)(26,"mat-label"),t._uU(27,"Indirizzo"),t.qZA(),t._UZ(28,"input",62),t.qZA()(),t.TgZ(29,"p",25),t._uU(30),t.qZA(),t.TgZ(31,"p",25),t._uU(32),t.qZA(),t.TgZ(33,"p",26),t._uU(34,"Campi obbligatori*"),t.qZA(),t._UZ(35,"mat-divider"),t.TgZ(36,"div",27)(37,"button",48),t._uU(38,"INDIETRO"),t.qZA(),t.TgZ(39,"button",52),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.register())}),t.YNc(40,P,1,0,"mat-spinner",53),t.YNc(41,k,2,0,"span",51),t.qZA()()()()()}if(2&r){const a=t.oxw();t.xp6(1),t.Q6J("stepControl",a.thirdFormGroup),t.xp6(1),t.Q6J("formGroup",a.thirdFormGroup),t.xp6(28),t.Oqu(a.log),t.xp6(2),t.Oqu(a.log2),t.xp6(7),t.Q6J("disabled",a.isLastButtonDisabled),t.xp6(1),t.Q6J("ngIf",a.apiLoading),t.xp6(1),t.Q6J("ngIf",!a.apiLoading)}}let S=(()=>{var r;class s{constructor(n,o,l,p){this.router=n,this.route=o,this._formBuilder=l,this.signupService=p,this.firstFormGroup=this._formBuilder.group({email:["",[e.kI.required,e.kI.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/),e.kI.minLength(3),e.kI.maxLength(128)]],password:["",[e.kI.required,e.kI.minLength(8),e.kI.maxLength(64)]],password2:["",[e.kI.required,e.kI.minLength(8),e.kI.maxLength(64)]],firstCtrl:[!1],usertype:["user",e.kI.required],checkbox:[!0,e.kI.requiredTrue]},{validator:x.R.MatchPassword}),this.secondFormGroup=this._formBuilder.group({secondCtrl:[!1],firstname:["",[e.kI.required]],lastname:["",[e.kI.required]],birthday:["2001-09-11",[e.kI.required]],genre:["UOMO",[e.kI.required]],nation:["",[e.kI.required]],province:["",[e.kI.required]],city:["",[e.kI.required]],address:["",[e.kI.required]]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:[!1],factory_name:["",[e.kI.required]],factory_description:["",[e.kI.required]],factory_province:["",[e.kI.required]],factory_city:["",[e.kI.required]],factory_address:["",[e.kI.required]]}),this.isOptional=!1,this.hide=!0,this.isLastButtonDisabled=!1,this.isUserSignup=!0,this.apiLoading=!1,this.log="",this.log2="",this.checkBoxSelected=!1}ngOnInit(){}goToLogin(){this.router.navigate(["/login"])}onUsertypeChanged(n){"user"==n.value?this.isUserSignup=!0:"admin"==n.value&&(this.isUserSignup=!1)}register(){this.isLastButtonDisabled=!0,this.apiLoading=!0;let n={email:this.firstFormGroup.value.email,usertype:this.firstFormGroup.value.usertype,password:this.firstFormGroup.value.password,lastname:this.secondFormGroup.value.lastname,firstname:this.secondFormGroup.value.firstname,birthday:this.secondFormGroup.value.birthday,genre:this.secondFormGroup.value.genre,nation:this.secondFormGroup.value.nation,province:this.secondFormGroup.value.province,city:this.secondFormGroup.value.city,address:this.secondFormGroup.value.address,factory_name:this.thirdFormGroup.value.factory_name,factory_description:this.thirdFormGroup.value.factory_description,factory_province:this.thirdFormGroup.value.factory_province,factory_city:this.thirdFormGroup.value.factory_city,factory_address:this.thirdFormGroup.value.factory_address};this.firstFormGroup.valid&&this.secondFormGroup.valid&&(this.thirdFormGroup.valid||this.isUserSignup)?(this.log=this.log2="",this.signupService.checkEmail(n.email).subscribe({next:o=>{o&&(this.log="Email gi\xe0 in uso"),this.isUserSignup?this.log==this.log2?this.signupService.signup(n).subscribe({next:l=>{this.router.navigate(["/register/success"])},error:l=>{console.log(l),console.error(`Error: ${l.message}`),this.isLastButtonDisabled=!1,this.apiLoading=!1},complete:()=>{console.log("Observable complete")}}):(this.isLastButtonDisabled=!1,this.apiLoading=!1):this.signupService.checkFactoryName(n.factory_name).subscribe({next:l=>{l&&(this.log2="Nome azienda gi\xe0 in uso"),this.log==this.log2?this.signupService.signup(n).subscribe({next:p=>{this.router.navigate(["/register/success"])},error:p=>{console.log(p),console.error(`Error: ${p.message}`),this.isLastButtonDisabled=!1,this.apiLoading=!1},complete:()=>{console.log("Observable complete")}}):(this.isLastButtonDisabled=!1,this.apiLoading=!1)}})}})):(this.apiLoading=!1,this.isLastButtonDisabled=!1)}}return(r=s).\u0275fac=function(n){return new(n||r)(t.Y36(g.F0),t.Y36(g.gz),t.Y36(e.qu),t.Y36(T.Or))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-signup"]],standalone:!0,features:[t.jDz],decls:130,vars:29,consts:[[1,"container"],[1,"styled-image"],[1,"form-cont"],[2,"color","#166cdb"],[2,"color","#9B999D"],["linear",""],["stepper",""],["matStepperIcon","edit"],[3,"stepControl","editable"],["autocomplete","off",3,"formGroup"],["matStepLabel",""],[1,"form-input-row",2,"margin","0px !important"],["appearance","outline",2,"flex-grow","1","padding-right","5px"],["matInput","","placeholder","ex@example.com","formControlName","email","name","email","required","","maxlength","128"],["appearance","outline",2,"flex-grow","1","padding-left","5px"],["formControlName","usertype",3,"value","selectionChange"],["value","user"],["value","admin"],[1,"form-input-row"],["name","password","matInput","","formControlName","password","required","","maxlength","64",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","password2","required","","maxlength","64",3,"type"],[1,"example-section",2,"margin-left","-10px"],["formControlName","checkbox",1,"example-margin"],["href","#",2,"color","#a6039b !important"],[1,"error"],[2,"margin","10px 0 10px 0","color","#9B999D"],[1,"bottom-form-bar"],["mat-button","","color","primary",2,"color","#166cdb !important",3,"click"],["mat-raised-button","","matStepperNext","",2,"background-color","#a6039b","color","white"],["btn1",""],[3,"stepControl","optional"],["matInput","","placeholder","","formControlName","lastname","required","","maxlength","255"],["matInput","","placeholder","","formControlName","firstname","required","","maxlength","255"],["appearance","outline",2,"flex-grow","1","padding-right","2.5px"],["matInput","","formControlName","birthday","placeholder","Data di nascita",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["appearance","outline",2,"flex-grow","1","padding-left","2.5px","padding-right","5px"],["formControlName","genre",2,"display","none",3,"value"],["value","UOMO"],["value","DONNA"],["mat-icon-button","","matSuffix",""],[2,"color","grey"],["matInput","","placeholder","","formControlName","nation","required","","maxlength","255"],["matInput","","placeholder","","formControlName","province","required","","maxlength","2"],["matInput","","placeholder","","formControlName","city","required","","maxlength","255"],["matInput","","placeholder","","formControlName","address","required","","maxlength","255"],["mat-stroked-button","","matStepperPrevious","","color","primary"],["mat-raised-button","","matStepperNext","","style","background-color: #a6039b; color: white",4,"ngIf","ngIfElse"],["isNotUserBlock",""],[4,"ngIf"],["mat-raised-button","","matStepperNext","",2,"background-color","#a6039b","color","white",3,"disabled","click"],["style","width: 14px; height: 14px; color: white;",4,"ngIf"],[2,"width","14px","height","14px","color","white"],[3,"stepControl"],["appearance","outline",2,"flex-grow","1","padding-right","0"],["matInput","","placeholder","","formControlName","factory_name","required","","maxlength","255"],["appearance","outline",1,"example-full-width",2,"flex-grow","1","padding-right","0"],["matInput","","placeholder","","rows","3","required","","formControlName","factory_description","maxlength","255",2,"resize","none"],["matInput","","placeholder","","formControlName","factory_province","required","","maxlength","2"],["matInput","","placeholder","","formControlName","factory_city","required","","maxlength","255"],["matInput","","placeholder","","formControlName","factory_address","required","","maxlength","255"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"h3",3),t._uU(4,"Registrati"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"Inserisci i tuoi dati e procedi con la registrazione"),t.qZA(),t._UZ(7,"mat-divider"),t.TgZ(8,"mat-stepper",5,6),t.YNc(10,q,2,0,"ng-template",7),t.TgZ(11,"mat-step",8)(12,"form",9),t.YNc(13,I,1,0,"ng-template",10),t.TgZ(14,"h5",3),t._uU(15,"CREDENZIALI DI ACCESSO"),t.qZA(),t.TgZ(16,"div",11)(17,"mat-form-field",12)(18,"mat-label"),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",13),t.qZA(),t.TgZ(21,"mat-form-field",14)(22,"mat-label"),t._uU(23,"Tipologia Utente"),t.qZA(),t.TgZ(24,"mat-select",15),t.NdJ("selectionChange",function(p){return o.onUsertypeChanged(p)}),t.TgZ(25,"mat-option",16),t._uU(26,"User"),t.qZA(),t.TgZ(27,"mat-option",17),t._uU(28,"Admin"),t.qZA()()()(),t.TgZ(29,"div",18)(30,"mat-form-field",12)(31,"mat-label"),t._uU(32,"Enter your password"),t.qZA(),t._UZ(33,"input",19),t.TgZ(34,"button",20),t.NdJ("click",function(){return o.hide=!o.hide}),t.TgZ(35,"mat-icon"),t._uU(36),t.qZA()(),t.TgZ(37,"mat-error"),t._uU(38),t.qZA()(),t.TgZ(39,"mat-form-field",14)(40,"mat-label"),t._uU(41,"Enter your password again"),t.qZA(),t._UZ(42,"input",21),t.TgZ(43,"button",20),t.NdJ("click",function(){return o.hide=!o.hide}),t.TgZ(44,"mat-icon"),t._uU(45),t.qZA()(),t.TgZ(46,"mat-error"),t._uU(47),t.qZA()()(),t.TgZ(48,"section",22)(49,"mat-checkbox",23),t._uU(50,"Ho preso visione dell'"),t.TgZ(51,"a",24),t._uU(52,"Informativa Privacy"),t.qZA()()(),t.TgZ(53,"mat-error"),t._uU(54),t.qZA(),t.TgZ(55,"p",25),t._uU(56),t.qZA(),t.TgZ(57,"p",25),t._uU(58),t.qZA(),t.TgZ(59,"p",26),t._uU(60,"Campi obbligatori*"),t.qZA(),t._UZ(61,"mat-divider"),t.TgZ(62,"div",27)(63,"button",28),t.NdJ("click",function(){return o.goToLogin()}),t._uU(64,"RITORNA ALLA LOGIN"),t.qZA(),t.TgZ(65,"button",29,30),t._uU(67,"AVANTI"),t.qZA()()()(),t.TgZ(68,"mat-step",31)(69,"form",9),t.YNc(70,O,1,0,"ng-template",10),t.TgZ(71,"h5",3),t._uU(72,"DATI ANAGRAFICI"),t.qZA(),t.TgZ(73,"div",18)(74,"mat-form-field",12)(75,"mat-label"),t._uU(76,"Cognome"),t.qZA(),t._UZ(77,"input",32),t.qZA(),t.TgZ(78,"mat-form-field",12)(79,"mat-label"),t._uU(80,"Nome"),t.qZA(),t._UZ(81,"input",33),t.qZA()(),t.TgZ(82,"div",18)(83,"mat-form-field",34),t._UZ(84,"input",35)(85,"mat-datepicker-toggle",36)(86,"mat-datepicker",null,37),t.qZA(),t.TgZ(88,"mat-form-field",38)(89,"mat-label"),t._uU(90,"Genere"),t.qZA(),t.TgZ(91,"mat-select",39)(92,"mat-option",40),t._uU(93,"UOMO"),t.qZA(),t.TgZ(94,"mat-option",41),t._uU(95,"DONNA"),t.qZA()(),t.TgZ(96,"button",42)(97,"mat-icon",43),t._uU(98),t.qZA()()()(),t.TgZ(99,"div",18)(100,"mat-form-field",12)(101,"mat-label"),t._uU(102,"Nazione"),t.qZA(),t._UZ(103,"input",44),t.qZA(),t.TgZ(104,"mat-form-field",12)(105,"mat-label"),t._uU(106,"Provincia"),t.qZA(),t._UZ(107,"input",45),t.qZA(),t.TgZ(108,"mat-form-field",12)(109,"mat-label"),t._uU(110,"Citt\xe0"),t.qZA(),t._UZ(111,"input",46),t.qZA(),t.TgZ(112,"mat-form-field",12)(113,"mat-label"),t._uU(114,"Indirizzo"),t.qZA(),t._UZ(115,"input",47),t.qZA()(),t.TgZ(116,"p",25),t._uU(117),t.qZA(),t.TgZ(118,"p",25),t._uU(119),t.qZA(),t.TgZ(120,"p",26),t._uU(121,"Campi obbligatori*"),t.qZA(),t._UZ(122,"mat-divider"),t.TgZ(123,"div",27)(124,"button",48),t._uU(125,"INDIETRO"),t.qZA(),t.YNc(126,E,2,0,"button",49),t.YNc(127,N,3,3,"ng-template",null,50,t.W1O),t.qZA()()(),t.YNc(129,L,42,7,"div",51),t.qZA()()()),2&n){const l=t.MAs(87),p=t.MAs(128);t.xp6(11),t.Q6J("stepControl",o.firstFormGroup)("editable",!0),t.xp6(1),t.Q6J("formGroup",o.firstFormGroup),t.xp6(12),t.Q6J("value","user"),t.xp6(9),t.Q6J("type",o.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",o.hide),t.xp6(2),t.Oqu(o.hide?"visibility_off":"visibility"),t.xp6(2),t.Oqu(""===o.firstFormGroup.controls.password.value?"Campo obbligatorio":o.firstFormGroup.controls.password.hasError("minlength")?"Almeno 8 caratteri":""),t.xp6(4),t.Q6J("type",o.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",o.hide),t.xp6(2),t.Oqu(o.hide?"visibility_off":"visibility"),t.xp6(2),t.Oqu(o.firstFormGroup.controls.password2.hasError("passwordMismatch")?"Le password devono coincidere":""),t.xp6(7),t.Oqu(o.firstFormGroup.controls.email.hasError("pattern")?"Email non valida":""),t.xp6(2),t.Oqu(o.log),t.xp6(2),t.Oqu(o.log2),t.xp6(10),t.Q6J("stepControl",o.secondFormGroup)("optional",o.isOptional),t.xp6(1),t.Q6J("formGroup",o.secondFormGroup),t.xp6(15),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(6),t.Q6J("value","UOMO"),t.xp6(7),t.Oqu("arrow_drop_down"),t.xp6(19),t.Oqu(o.log),t.xp6(2),t.Oqu(o.log2),t.xp6(7),t.Q6J("ngIf",!o.isUserSignup)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",!o.isUserSignup)}},dependencies:[A.ez,A.O5,g.Bz,c.ot,c.lW,c.RK,m.T5,m.C0,m.VY,m.Vq,m.Ic,m.fd,m.z9,e.u5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.nD,e.UX,e.sg,e.u,u.lN,u.KE,u.hX,u.TO,u.R9,h.t,h.d,f.c,f.Nt,Z.p9,Z.oG,v.Ps,v.Hw,b.LD,b.gD,C.ey,d.FA,d.Mq,d.hl,d.nW,U.Cq,U.Ou],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;background-color:#0a4a89;background-image:url(bg_registrazione_accesso.a9e08ac1da452d6c.svg);background-size:cover;background-repeat:no-repeat;background-position:center center}[_nghost-%COMP%]     .mat-step-label.mat-step-label-active.mat-step-label-selected{color:#166cdb!important}[_nghost-%COMP%]     .mat-step-icon-selected{background-color:#166cdb}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper{height:10px!important}[_nghost-%COMP%]     .mat-mdc-form-field{margin:0!important}[_nghost-%COMP%]     .mat-stepper-horizontal-line{margin:-1!important;border-top-width:-1!important;border-top-style:solid;flex:none;height:19px!important;margin:0!important;min-width:0!important;border-top-color:transparent!important}[_nghost-%COMP%]     .mat-stepper-horizontal-line:before{content:">"}[_nghost-%COMP%]     .mat-step-icon-state-edit{background-color:#41cf0d}.styled-image[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;width:200px;height:130px;background-image:url(television_app_logo.96f0cd1eece34ccd.svg);color:#fff}.form-cont[_ngcontent-%COMP%]{width:50%;padding:20px 20px 0;border-radius:10px;background-color:#fff}.bottom-form-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;height:40px;margin-top:10px}.form-input-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.error[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;white-space:pre-line;font-size:1.5rem;font-weight:500;color:#d32f2f;line-height:19px}']}),s})()}}]);