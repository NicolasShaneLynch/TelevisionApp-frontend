"use strict";(self.webpackChunkfrontend_contrader=self.webpackChunkfrontend_contrader||[]).push([[692],{2692:(D,c,o)=>{o.r(c),o.d(c,{default:()=>C});var g=o(9623),u=o(3149),p=o(1081),r=o(3302),f=o(6814),t=o(5879),l=o(1896),h=o(1522),m=o(7700),O=o(2296);function v(n,d){if(1&n&&(t.TgZ(0,"div",14),t._UZ(1,"img",15),t.qZA()),2&n){const s=t.oxw();t.xp6(1),t.Q6J("src",s.imageData,t.LSH)}}function U(n,d){if(1&n&&(t.TgZ(0,"div",14)(1,"div",16),t._uU(2),t.qZA()()),2&n){const s=t.oxw();t.xp6(2),t.Oqu(s.name[0].toUpperCase()+" "+s.lastname[0].toUpperCase())}}function Z(n,d){if(1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",8)(4,"h3"),t._uU(5),t.qZA()()(),t._UZ(6,"br")(7,"br"),t.TgZ(8,"div",1)(9,"div",8)(10,"h4",9),t._uU(11,"INDIRIZZO"),t.qZA(),t.TgZ(12,"p",10),t._uU(13),t.qZA()(),t.TgZ(14,"div",11)(15,"h4",9),t._uU(16,"DESCRIZIONE"),t.qZA(),t.TgZ(17,"p",10),t._uU(18),t.qZA()()()()()),2&n){const s=t.oxw();t.xp6(5),t.Oqu(s.factory_name),t.xp6(8),t.Oqu(s.factory_address),t.xp6(5),t.Oqu(s.factory_description)}}let C=(()=>{var n;class d{constructor(a,i,e,_){this.route=a,this.utentiService=i,this.dialog=e,this.router=_,this.hasImage=!1,this.imageData="",this.id=0,this.name="",this.lastname="",this.email="",this.gender="",this.address="",this.date="",this.isAdmin=!0,this.factory_name="",this.factory_address="",this.factory_description=""}ngOnInit(){let a=this.route.snapshot.paramMap.get("id");this.id=null==a?0:parseInt(a),this.utentiService.readUser(this.id).subscribe(e=>{null!=e.image&&(this.imageData=e.image.data,this.hasImage=!0),this.name=e.userInfoDTO.name,this.lastname=e.userInfoDTO.lastname,this.email=e.username,this.gender=e.userInfoDTO.genderType,this.gender=this.gender.charAt(0)+this.gender.substring(1).toLowerCase(),this.address=e.userInfoDTO.address+" - "+e.userInfoDTO.city+", 00000",this.date=new Date(Date.parse(e.userInfoDTO.date)).toLocaleDateString("it-EU"),this.isAdmin="ADMIN"==e.usertype,this.isAdmin&&(this.factory_address=e.factoryDTO.address,this.factory_description=e.factoryDTO.description,this.factory_name=e.factoryDTO.name)})}modificaUtente(a){this.router.navigate(["/gestionale/utenti/edituser",a],{state:{id:a}})}eliminaUtente(a){this.dialog.open(p.g,{width:"660px",height:"300px",disableClose:!0,data:{title:r.sD.cancella_utente,body:r.sD.cancella_user,button:"ELIMINA"}}).afterClosed().subscribe(e=>{e&&this.utentiService.deleteUser(a).subscribe(_=>{this.dialog.open(u.t,{width:"660px",height:"300px",disableClose:!0,data:{title:r.cm.delete_successful,body:r.cm.delete_successful2}}).afterClosed().subscribe(()=>{this.router.navigate(["/gestionale/utenti"])})})})}}return(n=d).\u0275fac=function(a){return new(a||n)(t.Y36(l.gz),t.Y36(h.p),t.Y36(m.uw),t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizza-utente"]],standalone:!0,features:[t.jDz],decls:39,vars:9,consts:[[1,"container0"],[1,"container1"],[1,"compX",2,"position","relative"],["class","round-img-profile",4,"ngIf"],[1,"comp2",2,"padding-left","15px"],[1,"comp4"],[1,"button-confirm-container"],["mat-raised-button","",2,"font-weight","bold","padding-right","20px","padding-left","20px","border","1px solid #a6039b","color","#a6039b","background-color","white","float","right",3,"click"],[1,"comp1"],[2,"color","#a2a2a2"],[1,"p"],[1,"comp2"],[1,"comp3"],[4,"ngIf"],[1,"round-img-profile"],[2,"width","64px","height","64px","border-radius","32px","object-fit","cover","object-position","center",3,"src"],[1,"flex-items"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,v,2,1,"div",3),t.YNc(4,U,3,1,"div",3),t.qZA(),t.TgZ(5,"div",4)(6,"h3"),t._uU(7),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6)(10,"button",7),t.NdJ("click",function(){return i.modificaUtente(i.id)}),t._uU(11,"MODIFICA"),t.qZA()()()(),t._UZ(12,"br")(13,"br"),t.TgZ(14,"div",1)(15,"div",8)(16,"h4",9),t._uU(17,"EMAIL"),t.qZA(),t.TgZ(18,"p",10),t._uU(19),t.qZA()(),t.TgZ(20,"div",11)(21,"h4",9),t._uU(22,"GENERE"),t.qZA(),t.TgZ(23,"p",10),t._uU(24),t.qZA()(),t.TgZ(25,"div",12)(26,"h4",9),t._uU(27,"INDIRIZZO"),t.qZA(),t.TgZ(28,"p",10),t._uU(29),t.qZA()(),t.TgZ(30,"div",5)(31,"h4",9),t._uU(32,"DATA CREAZIONE"),t.qZA(),t.TgZ(33,"p",10),t._uU(34),t.qZA()()()(),t._UZ(35,"br")(36,"br")(37,"br"),t.YNc(38,Z,19,3,"div",13)),2&a&&(t.xp6(3),t.Q6J("ngIf",i.hasImage),t.xp6(1),t.Q6J("ngIf",!i.hasImage),t.xp6(3),t.AsE("",i.name," ",i.lastname,""),t.xp6(12),t.Oqu(i.email),t.xp6(5),t.Oqu(i.gender),t.xp6(5),t.Oqu(i.address),t.xp6(5),t.Oqu(i.date),t.xp6(4),t.Q6J("ngIf",i.isAdmin))},dependencies:[g.hd,O.lW,f.O5],styles:[".container1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:100%;padding:2px;background-color:#fff;border-radius:8px}.container1[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.container1[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.938rem;font-weight:700;color:#656d70;line-height:15px;text-decoration:none}.comp1[_ngcontent-%COMP%], .comp2[_ngcontent-%COMP%], .comp3[_ngcontent-%COMP%], .comp4[_ngcontent-%COMP%]{flex-grow:1}.compX[_ngcontent-%COMP%]{flex-grow:0}.p[_ngcontent-%COMP%]{font-weight:700}.round-img-profile[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;margin-right:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#47caff}.flex-items[_ngcontent-%COMP%]{display:flex;align-items:center;width:-moz-fit-content;width:fit-content;color:#fff;font-size:24px;line-height:1;font-weight:500}.container0[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#fff;border-radius:8px}"]}),d})()}}]);